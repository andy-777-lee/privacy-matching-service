<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이채혁 지인 소개팅풀 등록 서비스</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Registration Page -->
        <div id="registration-page" class="page active">
            <div class="container">
                <div class="hero">
                    <div class="logo">💕</div>
                    <h1 class="gradient-text">프라이버시 보장 매칭</h1>
                    <p class="subtitle">연말인데 추울걸?</p>
                </div>

                <!-- Service Description -->
                <div class="service-description card glass">
                    <h2>🎯 서비스 소개</h2>
                    <p class="creator">Made by <strong>이채혁</strong></p>
                    <p class="main-desc">제 지인솔로분들께.. 솔로분들 등록하세요. 등록한다고 이름, 사진은 당신이 오케이하는거 아니면 공개안되니까 일단 조건만 보고 골라보세요 그
                        다음 제가 연결해드릴게</p>

                    <div class="privacy-guarantee">
                        <div class="guarantee-badge">
                            <span class="badge-icon">🛡️</span>
                            <div class="badge-text">
                                <strong>프라이버시 100% 보장</strong>
                                <p>등록해준 정보는 오픈하되, 본인 동의 없이 사진과 이름은 오픈하지 않습니다!</p>
                            </div>
                        </div>
                    </div>

                    <div class="process-info">
                        <h3>📋 매칭 프로세스</h3>

                        <div class="process-detail-section">
                            <div class="process-detail-card">
                                <div class="process-detail-header">
                                    <span class="step-badge">1차 선택</span>
                                    <h4>조건 기반 프로필 확인</h4>
                                </div>
                                <div class="process-detail-content">
                                    <p>조건에 부합하는 순서로 <strong>이름과 사진은 비공개된</strong> 프로필을 나열해드립니다.</p>
                                    <p>조건만 보고 이름과 사진을 보고 싶은 사람이 있다면 선택해주세요. <strong>상대방에게 허락을 구한 뒤</strong> 풀 프로필과 함께
                                        추가로 알고 싶은
                                        정보가 있다면 함께 전달드리겠습니다.</p>
                                </div>
                            </div>

                            <div class="process-arrow-vertical">↓</div>

                            <div class="process-detail-card">
                                <div class="process-detail-header">
                                    <span class="step-badge">2차 선택</span>
                                    <h4>최종 매칭 결정</h4>
                                </div>
                                <div class="process-detail-content">
                                    <p><strong>풀 프로필을 보시고도 마음에 드시면</strong> 카카오톡 또는 인스타그램으로 <strong>연락해보세요 !</strong>
                                    </p>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="features">
                        <div class="feature-item">
                            <span class="feature-icon">🔒</span>
                            <div class="feature-text">
                                <h4>조건 기반 매칭</h4>
                                <p>원하는 조건을 설정하고 우선순위를 정하세요</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">✅</span>
                            <div class="feature-text">
                                <h4>양방향 동의</h4>
                                <p>모든 단계에서 상대방의 동의가 필요합니다</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">💬</span>
                            <div class="feature-text">
                                <h4>추가 정보 요청</h4>
                                <p>궁금한 점이 있다면 관리자를 통해 전달 가능</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">👥</span>
                            <div class="feature-text">
                                <h4>현재 등록 회원</h4>
                                <p class="user-count"><span id="total-users-count">0</span>명이 등록했습니다</p>
                            </div>
                        </div>
                    </div>
                </div>

                <form id="registration-form">
                    <!-- Photo Upload -->
                    <div class="card">
                        <h3>📷 사진 등록 (3장 필수)</h3>
                        <div class="photo-upload-grid">
                            <div class="photo-upload-box" data-index="0">
                                <input type="file" accept="image/*" class="photo-input" id="photo-0">
                                <label for="photo-0" class="photo-label">
                                    <span class="upload-icon">📷</span>
                                    <span class="upload-text">사진 추가</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" data-index="1">
                                <input type="file" accept="image/*" class="photo-input" id="photo-1">
                                <label for="photo-1" class="photo-label">
                                    <span class="upload-icon">📷</span>
                                    <span class="upload-text">사진 추가</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                            <div class="photo-upload-box" data-index="2">
                                <input type="file" accept="image/*" class="photo-input" id="photo-2">
                                <label for="photo-2" class="photo-label">
                                    <span class="upload-icon">📷</span>
                                    <span class="upload-text">사진 추가</span>
                                </label>
                                <div class="photo-preview"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Personal Info -->
                    <div class="card">
                        <h3>👤 기본 정보</h3>
                        <div class="form-group">
                            <label>이름 *</label>
                            <input type="text" id="name" required>
                        </div>
                        <div class="form-group">
                            <label>성별 *</label>
                            <div class="gender-select">
                                <input type="radio" name="gender" value="male" id="gender-male" required>
                                <label for="gender-male" class="gender-option">남성</label>
                                <input type="radio" name="gender" value="female" id="gender-female" required>
                                <label for="gender-female" class="gender-option">여성</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>출생년도 *</label>
                            <input type="number" id="birth-year" min="1920" max="2007" placeholder="예: 1995" required>
                        </div>
                        <div class="form-group">
                            <label>종교 *</label>
                            <select id="religion" required>
                                <option value="">선택해주세요</option>
                                <option value="무교">무교</option>
                                <option value="기독교">기독교</option>
                                <option value="천주교">천주교</option>
                                <option value="불교">불교</option>
                                <option value="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>키 (cm) *</label>
                            <input type="number" id="height" min="140" max="220" required>
                        </div>
                        <div class="form-group">
                            <label>음주 *</label>
                            <select id="drinking" required>
                                <option value="">선택해주세요</option>
                                <option value="안 마심">안 마심</option>
                                <option value="가끔">가끔</option>
                                <option value="자주">자주</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>직업/직군 *</label>
                            <select id="job" required>
                                <option value="">선택해주세요</option>
                                <option value="학생">학생</option>
                                <option value="직장인">직장인</option>
                                <option value="자영업">자영업</option>
                                <option value="프리랜서">프리랜서</option>
                                <option value="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>상세 직장명 *</label>
                            <input type="text" id="workplace" placeholder="예: 삼성전자, 서울대학교" required>
                        </div>
                        <div class="form-group">
                            <label>학력 *</label>
                            <select id="education" required>
                                <option value="">선택해주세요</option>
                                <option value="고졸">고졸</option>
                                <option value="전문대졸">전문대졸</option>
                                <option value="대졸">대졸</option>
                                <option value="대학원">대학원</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>거주 지역 *</label>
                            <select id="location" required>
                                <option value="">선택해주세요</option>
                                <option value="서울">서울</option>
                                <option value="경기">경기</option>
                                <option value="인천">인천</option>
                                <option value="부산">부산</option>
                                <option value="대구">대구</option>
                                <option value="광주">광주</option>
                                <option value="대전">대전</option>
                                <option value="울산">울산</option>
                                <option value="김해">김해</option>
                                <option value="창원">창원</option>
                                <option value="포항">포항</option>
                                <option value="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group" id="custom-location-group" style="display: none;">
                            <label>거주 지역 입력 *</label>
                            <input type="text" id="custom-location" placeholder="거주 지역을 입력하세요">
                        </div>
                        <div class="form-group">
                            <label>흡연 여부 *</label>
                            <div class="gender-select">
                                <input type="radio" name="smoking" value="비흡연" id="smoking-no" required>
                                <label for="smoking-no" class="gender-option">비흡연</label>
                                <input type="radio" name="smoking" value="흡연" id="smoking-yes" required>
                                <label for="smoking-yes" class="gender-option">흡연</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>MBTI *</label>
                            <input type="text" id="mbti" maxlength="4" placeholder="예: INFP" required>
                        </div>
                        <div class="form-group">
                            <label>결혼 계획 *</label>
                            <select id="marriage-plan" required>
                                <option value="">선택해주세요</option>
                                <option value="1년 내">1년 내</option>
                                <option value="2-3년 내">2-3년 내</option>
                                <option value="천천히">천천히</option>
                                <option value="미정">미정</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>취미 (여러 개 선택 가능) *</label>
                            <div class="hobby-grid">
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="운동">
                                    <span>운동</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="영화">
                                    <span>영화</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="음악">
                                    <span>음악</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="독서">
                                    <span>독서</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="여행">
                                    <span>여행</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="요리">
                                    <span>요리</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="게임">
                                    <span>게임</span>
                                </label>
                                <label class="hobby-option">
                                    <input type="checkbox" name="hobbies" value="기타">
                                    <span>기타</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="card">
                        <h3>📞 연락처 정보</h3>
                        <div class="form-group">
                            <label>카카오톡 ID *</label>
                            <input type="text" id="kakao-id" placeholder="카카오톡 ID" required>
                        </div>
                        <div class="form-group">
                            <label>인스타그램 ID (선택)</label>
                            <input type="text" id="instagram-id" placeholder="@username">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">다음: 선호 조건 설정</button>
                </form>
            </div>
        </div>

        <!-- Preference Setting Page -->
        <div id="preference-page" class="page">
            <div class="container">
                <div class="header">
                    <h1>선호 조건 설정</h1>
                    <p>원하는 조건을 선택하고 중요도 순서대로 정렬하세요</p>
                </div>

                <form id="preference-form">
                    <!-- Step 1: Select Conditions -->
                    <div class="card">
                        <h3>1단계: 중요한 조건 선택</h3>
                        <p class="description">매칭에 고려할 조건들을 선택하세요</p>
                        <div class="preference-select-grid" id="preference-select">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>

                    <!-- Step 1.5: Set Preference Values -->
                    <div class="card" id="preference-values-card" style="display: none;">
                        <h3>1.5단계: 상세 조건 설정</h3>
                        <p class="description">선택한 조건의 원하는 값을 입력하세요</p>
                        <div id="preference-values-container">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>

                    <!-- Step 2: Rank by Priority -->
                    <div class="card" id="priority-card" style="display: none;">
                        <h3>2단계: 중요도 순서 정렬</h3>
                        <p class="description">드래그하여 순서를 변경하세요 (위쪽이 더 중요)</p>
                        <div class="priority-list" id="priority-list">
                            <!-- Will be populated by JS with draggable items -->
                        </div>
                    </div>

                    <button type="button" id="submit-preferences" class="btn btn-primary btn-large">매칭 시작</button>
                </form>
            </div>
        </div>

        <!-- Matches Page -->
        <div id="matches-page" class="page">
            <div class="container">
                <div class="header">
                    <div class="header-content">
                        <h1>매칭 결과</h1>
                        <p>당신과 잘 맞는 프로필들입니다</p>
                    </div>
                    <button id="my-profile-btn" class="btn btn-secondary">내 프로필</button>
                </div>

                <div id="matches-grid" class="matches-grid"></div>

                <div id="no-matches" class="no-matches" style="display: none;">
                    <div class="empty-state">
                        <span class="empty-icon">💔</span>
                        <h3>매칭되는 프로필이 없습니다</h3>
                        <p>조건을 조정해보세요</p>
                    </div>
                </div>

                <a href="#admin" class="admin-link">관리자 로그인</a>
            </div>
        </div>

        <!-- Profile Detail Modal -->
        <div id="profile-modal" class="modal">
            <div class="modal-content">
                <button class="modal-close">&times;</button>
                <div id="profile-detail"></div>
            </div>
        </div>

        <!-- Unlock Request Modal -->
        <div id="unlock-modal" class="modal">
            <div class="modal-content">
                <button class="modal-close">&times;</button>
                <h2>프로필 공개 요청</h2>
                <p class="description">관리자에게 전달할 메시지를 작성하세요</p>
                <form id="unlock-request-form">
                    <div class="form-group">
                        <label>요청 메시지</label>
                        <textarea id="unlock-message" rows="4" placeholder="예: 이 분 프로필이 궁금합니다. 공개 부탁드립니다."
                            required></textarea>
                    </div>
                    <input type="hidden" id="unlock-target-id">
                    <button type="submit" class="btn btn-primary">요청 보내기</button>
                </form>
            </div>
        </div>

        <!-- Admin Login Page -->
        <div id="admin-login-page" class="page">
            <div class="container">
                <div class="hero">
                    <div class="logo">🔐</div>
                    <h1>관리자 로그인</h1>
                </div>

                <div class="card glass">
                    <form id="admin-login-form">
                        <div class="form-group">
                            <label>비밀번호</label>
                            <input type="password" id="admin-password" placeholder="관리자 비밀번호" required>
                        </div>
                        <button type="submit" class="btn btn-primary">로그인</button>
                    </form>
                    <div id="admin-error" class="error-message"></div>
                </div>

                <a href="#" class="btn-link">← 메인으로 돌아가기</a>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard-page" class="page">
            <div class="container">
                <div class="admin-header">
                    <h1>관리자 대시보드</h1>
                    <button id="admin-logout-btn" class="btn btn-secondary">로그아웃</button>
                </div>

                <!-- Tabs -->
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="requests">공개 요청 (<span
                            id="pending-count">0</span>)</button>
                    <button class="admin-tab" data-tab="profiles">전체 프로필 (<span id="total-count">0</span>)</button>
                </div>

                <!-- Unlock Requests Tab -->
                <div id="requests-tab" class="admin-tab-content active">
                    <div id="admin-requests-grid" class="admin-requests-grid"></div>
                    <div id="no-requests" class="no-matches" style="display: none;">
                        <div class="empty-state">
                            <span class="empty-icon">📭</span>
                            <h3>대기 중인 요청이 없습니다</h3>
                        </div>
                    </div>
                </div>

                <!-- All Profiles Tab -->
                <div id="profiles-tab" class="admin-tab-content">
                    <div id="admin-profiles-grid" class="admin-profiles-grid"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script src="app.js"></script>
</body>

</html>
```